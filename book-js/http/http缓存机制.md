## 关于缓存的介绍

- 什么是缓存?

- 为什么需要缓存?

  - 首先要明白网络请求相比于CPU的计算和页面的渲染, 是非常慢的

  - 合理利用缓存, 尽量减少网络请求的体积和数量, 是前端性能优化的大招

- 哪些资源可以被缓存?

  - 静态资源( js, css, img )

## http缓存策略( 强制缓存 + 协商缓存 )

- Cache-Control( 取代了Expires )

  - 在 Response Headers 中

  - Cache-Control: max-age=31536000 ( 单位是秒 )

  - Cache-Control: no-cache, 只是说明客户端不使用强制缓存

  - Cache-Control: no-store, 说明客户端不使用强制缓存, 服务端也不使用缓存

  - Cache-Control: private, 说明只有在用户端可以缓存

  - Cache-Control: public, 说明中间的路由或代理也可以缓存

- 强制缓存

  - Cache-Control控制强制缓存

    ![](https://s1.ax1x.com/2020/06/18/NnGyMF.png)
    ![](https://s1.ax1x.com/2020/06/18/NnG6r4.png)

- 协商缓存( 对比缓存 )

  - 是一种服务端缓存策略, 指由服务端来判断一个资源是否可以被缓存或是否可以用缓存, 而并非资源缓存在服务端

  - 服务器端会判断客户端的资源是否和服务端的资源一样

  - 一样则返回304, 否则返回200和最新的资源

![](https://s1.ax1x.com/2020/06/18/Nnthin.png)

## 不同方式的刷新操作, 对缓存的影响

- 正常操作: 强制缓存有效, 协商缓存有效

- 手动刷新: 强制缓存失效, 协商缓存有效

- 强制刷新: 强制缓存失效, 协商缓存失效



